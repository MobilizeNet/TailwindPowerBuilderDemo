{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Order } from '../../../Contract';\nimport { ErrorCodes, ExceptionHandlerClass } from '../../../System/Aop';\n\nvar StyleBehavior = function () {\n  function StyleBehavior() {}\n\n  StyleBehavior.prototype.apply = function (model, root) {\n    if (model && model.stylePivot) {\n      this.applyStyleChanges(model, model.stylePivot);\n    }\n  };\n\n  Object.defineProperty(StyleBehavior.prototype, \"Order\", {\n    get: function () {\n      return Order.ORD;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StyleBehavior.prototype.applyStyleChanges = function (model, style) {\n    var hasChanged = false;\n\n    if (!model.Style) {\n      model.Style = {};\n    }\n\n    for (var propertyStyle in style) {\n      if (style.hasOwnProperty(propertyStyle) && model.Style[propertyStyle] !== style[propertyStyle]) {\n        model.Style[propertyStyle] = style[propertyStyle];\n        hasChanged = true;\n      }\n    }\n\n    model.Style.Dirty = hasChanged;\n    model.stylePivot = undefined;\n  };\n\n  StyleBehavior = __decorate([ExceptionHandlerClass(ErrorCodes.ClientCore)], StyleBehavior);\n  return StyleBehavior;\n}();\n\nexport { StyleBehavior }; //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3R5bGVCZWhhdmlvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy92NS9Db3JlL0JlaGF2aW9ycy9TdHlsZUJlaGF2aW9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQW1CQSxPQUFPLEVBQW9DLEtBQUssRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzVFLE9BQU8sRUFBRSxVQUFVLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUl4RTtJQUFBO0lBOEJBLENBQUM7SUEzQkcsNkJBQUssR0FBTCxVQUFNLEtBQWEsRUFBRSxJQUFhO1FBQzlCLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxVQUFVLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDbkQ7SUFDTCxDQUFDO0lBR0Qsc0JBQUksZ0NBQUs7YUFBVDtZQUNJLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUNyQixDQUFDOzs7T0FBQTtJQUVPLHlDQUFpQixHQUF6QixVQUEwQixLQUFhLEVBQUUsS0FBa0M7UUFDdkUsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFO1lBQ2QsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7U0FDcEI7UUFDRCxLQUFLLElBQU0sYUFBYSxJQUFJLEtBQUssRUFBRTtZQUMvQixJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxLQUFLLENBQUMsYUFBYSxDQUFDLEVBQUU7Z0JBQzVGLEtBQUssQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUNsRCxVQUFVLEdBQUcsSUFBSSxDQUFDO2FBQ3JCO1NBQ0o7UUFFRCxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7UUFFL0IsS0FBSyxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7SUFDakMsQ0FBQztJQTdCUSxhQUFhO1FBRnpCLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUM7T0FFaEMsYUFBYSxDQThCekI7SUFBRCxvQkFBQztDQUFBLEFBOUJELElBOEJDO1NBOUJZLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuKiBDb3B5cmlnaHQgKEMpIE1vYmlsaXplLk5ldCA8aW5mb0Btb2JpbGl6ZS5uZXQ+IC0gQWxsIFJpZ2h0cyBSZXNlcnZlZFxyXG4qXHJcbiogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIE1vYmlsaXplIEZyYW1ld29ya3MsIHdoaWNoIGlzXHJcbiogcHJvcHJpZXRhcnkgYW5kIGNvbmZpZGVudGlhbC5cclxuKlxyXG4qIE5PVElDRTogIEFsbCBpbmZvcm1hdGlvbiBjb250YWluZWQgaGVyZWluIGlzLCBhbmQgcmVtYWluc1xyXG4qIHRoZSBwcm9wZXJ0eSBvZiBNb2JpbGl6ZS5OZXQgQ29ycG9yYXRpb24uXHJcbiogVGhlIGludGVsbGVjdHVhbCBhbmQgdGVjaG5pY2FsIGNvbmNlcHRzIGNvbnRhaW5lZCBoZXJlaW4gYXJlXHJcbiogcHJvcHJpZXRhcnkgdG8gTW9iaWxpemUuTmV0IENvcnBvcmF0aW9uIGFuZCBtYXkgYmUgY292ZXJlZFxyXG4qIGJ5IFUuUy4gUGF0ZW50cywgYW5kIGFyZSBwcm90ZWN0ZWQgYnkgdHJhZGUgc2VjcmV0IG9yIGNvcHlyaWdodCBsYXcuXHJcbiogRGlzc2VtaW5hdGlvbiBvZiB0aGlzIGluZm9ybWF0aW9uIG9yIHJlcHJvZHVjdGlvbiBvZiB0aGlzIG1hdGVyaWFsXHJcbiogaXMgc3RyaWN0bHkgZm9yYmlkZGVuIHVubGVzcyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24gaXMgb2J0YWluZWRcclxuKiBmcm9tIE1vYmlsaXplLk5ldCBDb3Jwb3JhdGlvbi5cclxuKlxyXG4qIFRoaXMgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBkZWZpbmVkIGluXHJcbiogZmlsZSAnTElDRU5TRS50eHQnLCB3aGljaCBpcyBwYXJ0IG9mIHRoaXMgc291cmNlIGNvZGUgcGFja2FnZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBJQ2xpZW50QmVoYXZpb3IsIElFbnRpdHksIElNb2RlbCwgT3JkZXIgfSBmcm9tICcuLi8uLi8uLi9Db250cmFjdCc7XHJcbmltcG9ydCB7IEVycm9yQ29kZXMsIEV4Y2VwdGlvbkhhbmRsZXJDbGFzcyB9IGZyb20gJy4uLy4uLy4uL1N5c3RlbS9Bb3AnO1xyXG5cclxuQEV4Y2VwdGlvbkhhbmRsZXJDbGFzcyhFcnJvckNvZGVzLkNsaWVudENvcmUpXHJcblxyXG5leHBvcnQgY2xhc3MgU3R5bGVCZWhhdmlvciBpbXBsZW1lbnRzIElDbGllbnRCZWhhdmlvciB7XHJcblxyXG4gICAgLyoqIEBpbmhlcml0ZG9jICovXHJcbiAgICBhcHBseShtb2RlbDogSU1vZGVsLCByb290OiBJRW50aXR5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKG1vZGVsICYmIG1vZGVsLnN0eWxlUGl2b3QpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVN0eWxlQ2hhbmdlcyhtb2RlbCwgbW9kZWwuc3R5bGVQaXZvdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xyXG4gICAgZ2V0IE9yZGVyKCk6IE9yZGVyIHtcclxuICAgICAgICByZXR1cm4gT3JkZXIuT1JEO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwbHlTdHlsZUNoYW5nZXMobW9kZWw6IElNb2RlbCwgc3R5bGU6IHsgW3Byb3BlcnR5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBoYXNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFtb2RlbC5TdHlsZSkge1xyXG4gICAgICAgICAgICBtb2RlbC5TdHlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5U3R5bGUgaW4gc3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlLmhhc093blByb3BlcnR5KHByb3BlcnR5U3R5bGUpICYmIG1vZGVsLlN0eWxlW3Byb3BlcnR5U3R5bGVdICE9PSBzdHlsZVtwcm9wZXJ0eVN0eWxlXSkge1xyXG4gICAgICAgICAgICAgICAgbW9kZWwuU3R5bGVbcHJvcGVydHlTdHlsZV0gPSBzdHlsZVtwcm9wZXJ0eVN0eWxlXTtcclxuICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1hcmsgU3R5bGUgYXMgZGlydHlcclxuICAgICAgICBtb2RlbC5TdHlsZS5EaXJ0eSA9IGhhc0NoYW5nZWQ7XHJcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHBpdm90IHByb3BlcnR5XHJcbiAgICAgICAgbW9kZWwuc3R5bGVQaXZvdCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG4iXX0=","map":null,"metadata":{},"sourceType":"module"}