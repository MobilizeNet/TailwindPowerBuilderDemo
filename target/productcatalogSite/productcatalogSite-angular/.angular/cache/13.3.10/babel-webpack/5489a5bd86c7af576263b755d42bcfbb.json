{"ast":null,"code":"import { drawing as draw } from '@progress/kendo-drawing';\nimport { BoxElement, FloatElement, ShapeElement, TextBox } from '../../core';\nimport { LEGEND_ITEM_CLICK, LEGEND_ITEM_HOVER, LEGEND_ITEM_LEAVE } from '../constants';\nimport { CENTER, WHITE } from '../../common/constants';\nimport { deepExtend, eventElement } from '../../common';\n\nclass LegendItem extends BoxElement {\n  constructor(options) {\n    super(options);\n    this.createContainer();\n\n    if (!options.rtl) {\n      this.createMarker();\n      this.createLabel();\n    } else {\n      this.createLabel();\n      this.createMarker();\n    }\n  }\n\n  createContainer() {\n    this.container = new FloatElement({\n      vertical: false,\n      wrap: false,\n      align: CENTER,\n      spacing: this.options.spacing\n    });\n    this.append(this.container);\n  }\n\n  createMarker() {\n    this.container.append(new ShapeElement(this.markerOptions()));\n  }\n\n  markerOptions() {\n    const options = this.options;\n    const markerColor = options.markerColor;\n    return deepExtend({}, options.markers, {\n      background: markerColor,\n      border: {\n        color: markerColor\n      }\n    });\n  }\n\n  createLabel() {\n    const options = this.options;\n    const labelOptions = deepExtend({}, options.labels);\n    this.container.append(new TextBox(options.text, labelOptions));\n  }\n\n  renderComplete() {\n    super.renderComplete();\n    const cursor = this.options.cursor || {};\n    const eventSink = this._itemOverlay = draw.Path.fromRect(this.container.box.toRect(), {\n      fill: {\n        color: WHITE,\n        opacity: 0\n      },\n      stroke: null,\n      cursor: cursor.style || cursor\n    });\n    this.appendVisual(eventSink);\n  }\n\n  click(widget, e) {\n    const args = this.eventArgs(e);\n\n    if (!widget.trigger(LEGEND_ITEM_CLICK, args) && e && e.type === 'contextmenu') {\n      e.preventDefault();\n    }\n  }\n\n  over(widget, e) {\n    const args = this.eventArgs(e);\n\n    if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {\n      widget._legendItemHover(args.seriesIndex, args.pointIndex);\n    } // Don't trigger point hover for legend items\n\n\n    return true;\n  }\n\n  out(widget, e) {\n    widget._unsetActivePoint();\n\n    widget.trigger(LEGEND_ITEM_LEAVE, this.eventArgs(e));\n  }\n\n  eventArgs(e) {\n    const options = this.options;\n    return {\n      element: eventElement(e),\n      text: options.text,\n      series: options.series,\n      seriesIndex: options.series.index,\n      pointIndex: options.pointIndex\n    };\n  }\n\n  renderVisual() {\n    const options = this.options;\n    const customVisual = options.visual;\n\n    if (customVisual) {\n      this.visual = customVisual({\n        active: options.active,\n        series: options.series,\n        sender: this.getSender(),\n        pointIndex: options.pointIndex,\n        options: {\n          markers: this.markerOptions(),\n          labels: options.labels\n        },\n        createVisual: () => {\n          this.createVisual();\n          this.renderChildren();\n          this.renderComplete();\n          const defaultVisual = this.visual;\n          delete this.visual;\n          return defaultVisual;\n        }\n      });\n      this.addVisual();\n    } else {\n      super.renderVisual();\n    }\n  }\n\n}\n\nexport default LegendItem;","map":null,"metadata":{},"sourceType":"module"}