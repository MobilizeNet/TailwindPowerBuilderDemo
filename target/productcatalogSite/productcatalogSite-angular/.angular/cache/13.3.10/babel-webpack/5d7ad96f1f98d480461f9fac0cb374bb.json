{"ast":null,"code":"import { Inject } from '../';\nimport { Constants, Order } from '../../Contract';\n\nvar CommandsWorker = function () {\n  function CommandsWorker(inject) {\n    if (inject === void 0) {\n      inject = null;\n    }\n\n    this.inject = inject;\n    this.inject = inject || Inject.Instance;\n    this.invoker = this.inject.resolve(Constants.Invoker);\n    this.commandFactory = this.inject.resolve(Constants.CommandFactory);\n  }\n\n  CommandsWorker.prototype.process = function (response) {\n    var _this = this;\n\n    if (response.viewDeltas && response.viewDeltas.Commands) {\n      var msgArray_1 = [];\n      response.viewDeltas.Commands.forEach(function (c) {\n        if (c.Parameters && c.Parameters.Id === 'MSGBOX') {\n          msgArray_1.push(c);\n        } else {\n          _this.invoker.invoke(_this.commandFactory.create(c));\n        }\n      });\n      msgArray_1.reverse().forEach(function (c) {\n        _this.invoker.invoke(_this.commandFactory.create(c));\n      });\n    }\n  };\n\n  Object.defineProperty(CommandsWorker.prototype, \"Order\", {\n    get: function () {\n      return Order.ORD;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return CommandsWorker;\n}();\n\nexport { CommandsWorker }; //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tbWFuZFdvcmtlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BcHBsaWNhdGlvbi9EZWx0YVdvcmtlcnMvQ29tbWFuZFdvcmtlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrQkEsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEtBQUssQ0FBQztBQUM3QixPQUFPLEVBQUUsU0FBUyxFQUFpRSxLQUFLLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVqSDtJQUVJLHdCQUE2QixNQUFzQjtRQUF0Qix1QkFBQSxFQUFBLGFBQXNCO1FBQXRCLFdBQU0sR0FBTixNQUFNLENBQWdCO1FBQy9DLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDeEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDeEUsQ0FBQztJQUtELGdDQUFPLEdBQVAsVUFBUSxRQUFtQjtRQUEzQixpQkFnQkM7UUFmRyxJQUFJLFFBQVEsQ0FBQyxVQUFVLElBQUksUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUU7WUFFckQsSUFBTSxVQUFRLEdBQUcsRUFBRSxDQUFDO1lBQ3BCLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7Z0JBQ2xDLElBQUksQ0FBQyxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsS0FBSyxRQUFRLEVBQUU7b0JBQzlDLFVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3BCO3FCQUFNO29CQUNILEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3REO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFDSCxVQUFRLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQztnQkFDeEIsS0FBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2RCxDQUFDLENBQUMsQ0FBQztTQUVOO0lBQ0wsQ0FBQztJQUVELHNCQUFJLGlDQUFLO2FBQVQ7WUFDSSxPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDckIsQ0FBQzs7O09BQUE7SUFDTCxxQkFBQztBQUFELENBQUMsQUFoQ0QsSUFnQ0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuKiBDb3B5cmlnaHQgKEMpIE1vYmlsaXplLk5ldCA8aW5mb0Btb2JpbGl6ZS5uZXQ+IC0gQWxsIFJpZ2h0cyBSZXNlcnZlZFxyXG4qXHJcbiogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIE1vYmlsaXplIEZyYW1ld29ya3MsIHdoaWNoIGlzXHJcbiogcHJvcHJpZXRhcnkgYW5kIGNvbmZpZGVudGlhbC5cclxuKlxyXG4qIE5PVElDRTogIEFsbCBpbmZvcm1hdGlvbiBjb250YWluZWQgaGVyZWluIGlzLCBhbmQgcmVtYWluc1xyXG4qIHRoZSBwcm9wZXJ0eSBvZiBNb2JpbGl6ZS5OZXQgQ29ycG9yYXRpb24uXHJcbiogVGhlIGludGVsbGVjdHVhbCBhbmQgdGVjaG5pY2FsIGNvbmNlcHRzIGNvbnRhaW5lZCBoZXJlaW4gYXJlXHJcbiogcHJvcHJpZXRhcnkgdG8gTW9iaWxpemUuTmV0IENvcnBvcmF0aW9uIGFuZCBtYXkgYmUgY292ZXJlZFxyXG4qIGJ5IFUuUy4gUGF0ZW50cywgYW5kIGFyZSBwcm90ZWN0ZWQgYnkgdHJhZGUgc2VjcmV0IG9yIGNvcHlyaWdodCBsYXcuXHJcbiogRGlzc2VtaW5hdGlvbiBvZiB0aGlzIGluZm9ybWF0aW9uIG9yIHJlcHJvZHVjdGlvbiBvZiB0aGlzIG1hdGVyaWFsXHJcbiogaXMgc3RyaWN0bHkgZm9yYmlkZGVuIHVubGVzcyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24gaXMgb2J0YWluZWRcclxuKiBmcm9tIE1vYmlsaXplLk5ldCBDb3Jwb3JhdGlvbi5cclxuKlxyXG4qIFRoaXMgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBkZWZpbmVkIGluXHJcbiogZmlsZSAnTElDRU5TRS50eHQnLCB3aGljaCBpcyBwYXJ0IG9mIHRoaXMgc291cmNlIGNvZGUgcGFja2FnZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmltcG9ydCB7IEluamVjdCB9IGZyb20gJy4uLyc7XHJcbmltcG9ydCB7IENvbnN0YW50cywgSUNvbW1hbmRGYWN0b3J5LCBJQ29tbWFuZFdvcmtlciwgSUluamVjdCwgSUludm9rZXIsIElSZXNwb25zZSwgT3JkZXIgfSBmcm9tICcuLi8uLi9Db250cmFjdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tbWFuZHNXb3JrZXIgaW1wbGVtZW50cyBJQ29tbWFuZFdvcmtlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBpbmplY3Q6IElJbmplY3QgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5pbmplY3QgPSBpbmplY3QgfHwgSW5qZWN0Lkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuaW52b2tlciA9IHRoaXMuaW5qZWN0LnJlc29sdmUoQ29uc3RhbnRzLkludm9rZXIpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZEZhY3RvcnkgPSB0aGlzLmluamVjdC5yZXNvbHZlKENvbnN0YW50cy5Db21tYW5kRmFjdG9yeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBpbnZva2VyOiBJSW52b2tlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29tbWFuZEZhY3Rvcnk6IElDb21tYW5kRmFjdG9yeTtcclxuXHJcbiAgICBwcm9jZXNzKHJlc3BvbnNlOiBJUmVzcG9uc2UpOiB2b2lkIHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uudmlld0RlbHRhcyAmJiByZXNwb25zZS52aWV3RGVsdGFzLkNvbW1hbmRzKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBwYXRjaCBmb3IgVEpDIHByb2plY3QuIFRoaXMgaXMgbm90IHRoZSBmaW5hbCBzb2x1dGlvblxyXG4gICAgICAgICAgICBjb25zdCBtc2dBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICByZXNwb25zZS52aWV3RGVsdGFzLkNvbW1hbmRzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYy5QYXJhbWV0ZXJzICYmIGMuUGFyYW1ldGVycy5JZCA9PT0gJ01TR0JPWCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBtc2dBcnJheS5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludm9rZXIuaW52b2tlKHRoaXMuY29tbWFuZEZhY3RvcnkuY3JlYXRlKGMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG1zZ0FycmF5LnJldmVyc2UoKS5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZva2VyLmludm9rZSh0aGlzLmNvbW1hbmRGYWN0b3J5LmNyZWF0ZShjKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBFbmQgb2YgdGhlIHBhdGNoXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBPcmRlcigpOiBPcmRlciB7XHJcbiAgICAgICAgcmV0dXJuIE9yZGVyLk9SRDtcclxuICAgIH1cclxufVxyXG4iXX0=","map":null,"metadata":{},"sourceType":"module"}