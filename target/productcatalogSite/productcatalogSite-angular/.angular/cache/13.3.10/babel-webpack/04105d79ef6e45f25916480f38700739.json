{"ast":null,"code":"import { geometry as geom } from '@progress/kendo-drawing';\nimport { last } from '../../common';\nimport { X, Y } from '../../common/constants';\nconst StepLineMixin = {\n  calculateStepPoints: function (points) {\n    const categoryAxis = this.parent.plotArea.seriesCategoryAxis(this.series);\n    const {\n      justified,\n      vertical,\n      reverse\n    } = categoryAxis.options;\n    const stepAxis = vertical ? X : Y;\n    const axis = vertical ? Y : X;\n    const stepDir = reverse ? 2 : 1;\n    const dir = stepDir;\n    let previousPoint = toGeometryPoint(points[0], stepAxis, stepDir, axis, dir);\n    const result = [previousPoint];\n\n    for (let idx = 1; idx < points.length; idx++) {\n      const point = toGeometryPoint(points[idx], stepAxis, stepDir, axis, dir);\n\n      if (previousPoint[stepAxis] !== point[stepAxis]) {\n        const stepPoint = new geom.Point();\n        stepPoint[stepAxis] = previousPoint[stepAxis];\n        stepPoint[axis] = point[axis];\n        result.push(stepPoint, point);\n      }\n\n      previousPoint = point;\n    }\n\n    if (!justified) {\n      result.push(toGeometryPoint(last(points), stepAxis, stepDir, axis, reverse ? 1 : 2));\n    } else if (previousPoint !== last(result)) {\n      result.push(previousPoint);\n    }\n\n    return result;\n  }\n};\n\nfunction toGeometryPoint(lintPoint, stepAxis, stepDir, axis, dir) {\n  const box = lintPoint.box;\n  const result = new geom.Point();\n  result[stepAxis] = box[stepAxis + stepDir];\n  result[axis] = box[axis + dir];\n  return result;\n}\n\nexport default StepLineMixin;","map":null,"metadata":{},"sourceType":"module"}