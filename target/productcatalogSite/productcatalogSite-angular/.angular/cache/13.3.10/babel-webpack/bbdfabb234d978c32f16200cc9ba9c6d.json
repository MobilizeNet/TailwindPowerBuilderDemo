{"ast":null,"code":"import BarChart from '../bar-chart/bar-chart';\nimport RangeBar from './range-bar';\nimport CategoricalChart from '../categorical-chart';\nimport { MIN_VALUE, MAX_VALUE } from '../../common/constants';\nimport { isNumber } from '../../common';\n\nclass RangeBarChart extends BarChart {\n  pointType() {\n    return RangeBar;\n  }\n\n  pointValue(data) {\n    return data.valueFields;\n  }\n\n  formatPointValue(point, format) {\n    if (point.value.from === null && point.value.to === null) {\n      return \"\";\n    }\n\n    return this.chartService.format.auto(format, point.value.from, point.value.to);\n  }\n\n  plotRange(point) {\n    if (!point) {\n      return 0;\n    }\n\n    return [point.value.from, point.value.to];\n  }\n\n  updateRange(value, fields) {\n    const axisName = fields.series.axis;\n    const {\n      from,\n      to\n    } = value;\n    let axisRange = this.valueAxisRanges[axisName];\n\n    if (value !== null && isNumber(from) && isNumber(to)) {\n      axisRange = this.valueAxisRanges[axisName] = axisRange || {\n        min: MAX_VALUE,\n        max: MIN_VALUE\n      };\n      axisRange.min = Math.min(axisRange.min, from);\n      axisRange.max = Math.max(axisRange.max, from);\n      axisRange.min = Math.min(axisRange.min, to);\n      axisRange.max = Math.max(axisRange.max, to);\n    }\n  }\n\n  aboveAxis(point) {\n    const value = point.value;\n    return value.from < value.to;\n  }\n\n}\n\nRangeBarChart.prototype.plotLimits = CategoricalChart.prototype.plotLimits;\nexport default RangeBarChart;","map":null,"metadata":{},"sourceType":"module"}