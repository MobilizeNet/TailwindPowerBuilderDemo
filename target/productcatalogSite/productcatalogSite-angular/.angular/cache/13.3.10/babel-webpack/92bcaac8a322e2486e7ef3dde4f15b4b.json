{"ast":null,"code":"import { geometry as geom, drawing as draw } from '@progress/kendo-drawing';\nimport { Class } from '../common';\nconst DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.\n\nclass ShapeBuilder extends Class {\n  createRing(sector, options) {\n    const startAngle = sector.startAngle + 180;\n    let endAngle = sector.angle + startAngle; //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100\n\n    if (sector.angle > 0 && startAngle === endAngle) {\n      endAngle += DIRECTION_ANGLE;\n    }\n\n    const center = new geom.Point(sector.center.x, sector.center.y);\n    const radius = Math.max(sector.radius, 0);\n    const innerRadius = Math.max(sector.innerRadius, 0);\n    const arc = new geom.Arc(center, {\n      startAngle: startAngle,\n      endAngle: endAngle,\n      radiusX: radius,\n      radiusY: radius\n    });\n    const path = draw.Path.fromArc(arc, options).close();\n\n    if (innerRadius) {\n      arc.radiusX = arc.radiusY = innerRadius;\n      const innerEnd = arc.pointAt(endAngle);\n      path.lineTo(innerEnd.x, innerEnd.y);\n      path.arc(endAngle, startAngle, innerRadius, innerRadius, true);\n    } else {\n      path.lineTo(center.x, center.y);\n    }\n\n    return path;\n  }\n\n}\n\nShapeBuilder.current = new ShapeBuilder();\nexport default ShapeBuilder;","map":null,"metadata":{},"sourceType":"module"}