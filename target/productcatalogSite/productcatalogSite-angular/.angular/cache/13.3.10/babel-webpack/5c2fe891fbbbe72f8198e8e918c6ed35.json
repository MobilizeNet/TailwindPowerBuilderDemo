{"ast":null,"code":"import { drawing as draw } from '@progress/kendo-drawing';\nimport { ChartElement } from '../../core';\nimport { defined, isFunction, setDefaultOptions } from '../../common';\n\nclass LineSegment extends ChartElement {\n  constructor(linePoints, series, seriesIx) {\n    super();\n    this.linePoints = linePoints;\n    this.series = series;\n    this.seriesIx = seriesIx;\n  }\n\n  points() {\n    return this.toGeometryPoints(this.linePoints);\n  }\n\n  toGeometryPoints(points) {\n    const result = [];\n\n    for (let i = 0, length = points.length; i < length; i++) {\n      if (points[i] && points[i].visible !== false) {\n        result.push(points[i]._childBox.toRect().center());\n      }\n    }\n\n    return result;\n  }\n\n  createVisual() {\n    const customVisual = this.series.visual;\n\n    if (customVisual) {\n      this.visual = customVisual({\n        points: this.toGeometryPoints(this.linePoints),\n        series: this.series,\n        sender: this.getSender(),\n        createVisual: () => {\n          this.segmentVisual();\n          return this.visual;\n        }\n      });\n\n      if (this.visual && !defined(this.visual.options.zIndex)) {\n        this.visual.options.zIndex = this.series.zIndex;\n      }\n    } else {\n      this.segmentVisual();\n    }\n  }\n\n  segmentVisual() {\n    const {\n      options,\n      series\n    } = this;\n    let {\n      color,\n      _defaults: defaults\n    } = series;\n\n    if (isFunction(color) && defaults) {\n      color = defaults.color;\n    }\n\n    const line = draw.Path.fromPoints(this.points(), {\n      stroke: {\n        color: color,\n        width: series.width,\n        opacity: series.opacity,\n        dashType: series.dashType\n      },\n      zIndex: series.zIndex\n    });\n\n    if (options.closed) {\n      line.close();\n    }\n\n    this.visual = line;\n  }\n\n  aliasFor(e, coords) {\n    return this.parent.getNearestPoint(coords.x, coords.y, this.seriesIx);\n  }\n\n}\n\nsetDefaultOptions(LineSegment, {\n  closed: false\n});\nexport default LineSegment;","map":null,"metadata":{},"sourceType":"module"}