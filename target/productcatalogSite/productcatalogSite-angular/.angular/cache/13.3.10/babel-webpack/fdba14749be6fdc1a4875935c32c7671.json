{"ast":null,"code":"import { Dictionary } from '../../Application';\n\nvar CommandFactory = function () {\n  function CommandFactory() {\n    this.factories = new Dictionary();\n  }\n\n  CommandFactory.prototype.create = function (args) {\n    var constructor = this.factories.value(this.getId(args));\n\n    if (!constructor) {\n      return null;\n    }\n\n    return new constructor(args.parameters || args.Parameters || args);\n  };\n\n  CommandFactory.prototype.getId = function (args) {\n    return args.id || args.Id || (args.parameters ? args.parameters.id : undefined) || (args.Parameters ? args.Parameters.Id : undefined);\n  };\n\n  CommandFactory.prototype.register = function (name, constructor) {\n    this.factories.add(name, constructor);\n  };\n\n  return CommandFactory;\n}();\n\nexport { CommandFactory }; //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tbWFuZEZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvVUkvQ29tbWFuZC9Db21tYW5kRmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrQkEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRy9DO0lBRUk7UUFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7SUFDdEMsQ0FBQztJQUlELCtCQUFNLEdBQU4sVUFBTyxJQUFTO1FBQ1osSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDZCxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELDhCQUFLLEdBQUwsVUFBTSxJQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBQzNFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxpQ0FBUSxHQUFSLFVBQVMsSUFBWSxFQUFFLFdBQWdCO1FBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUwscUJBQUM7QUFBRCxDQUFDLEFBekJELElBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiogQ29weXJpZ2h0IChDKSBNb2JpbGl6ZS5OZXQgPGluZm9AbW9iaWxpemUubmV0PiAtIEFsbCBSaWdodHMgUmVzZXJ2ZWRcclxuKlxyXG4qIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBNb2JpbGl6ZSBGcmFtZXdvcmtzLCB3aGljaCBpc1xyXG4qIHByb3ByaWV0YXJ5IGFuZCBjb25maWRlbnRpYWwuXHJcbipcclxuKiBOT1RJQ0U6ICBBbGwgaW5mb3JtYXRpb24gY29udGFpbmVkIGhlcmVpbiBpcywgYW5kIHJlbWFpbnNcclxuKiB0aGUgcHJvcGVydHkgb2YgTW9iaWxpemUuTmV0IENvcnBvcmF0aW9uLlxyXG4qIFRoZSBpbnRlbGxlY3R1YWwgYW5kIHRlY2huaWNhbCBjb25jZXB0cyBjb250YWluZWQgaGVyZWluIGFyZVxyXG4qIHByb3ByaWV0YXJ5IHRvIE1vYmlsaXplLk5ldCBDb3Jwb3JhdGlvbiBhbmQgbWF5IGJlIGNvdmVyZWRcclxuKiBieSBVLlMuIFBhdGVudHMsIGFuZCBhcmUgcHJvdGVjdGVkIGJ5IHRyYWRlIHNlY3JldCBvciBjb3B5cmlnaHQgbGF3LlxyXG4qIERpc3NlbWluYXRpb24gb2YgdGhpcyBpbmZvcm1hdGlvbiBvciByZXByb2R1Y3Rpb24gb2YgdGhpcyBtYXRlcmlhbFxyXG4qIGlzIHN0cmljdGx5IGZvcmJpZGRlbiB1bmxlc3MgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uIGlzIG9idGFpbmVkXHJcbiogZnJvbSBNb2JpbGl6ZS5OZXQgQ29ycG9yYXRpb24uXHJcbipcclxuKiBUaGlzIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgZGVmaW5lZCBpblxyXG4qIGZpbGUgJ0xJQ0VOU0UudHh0Jywgd2hpY2ggaXMgcGFydCBvZiB0aGlzIHNvdXJjZSBjb2RlIHBhY2thZ2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQgeyBEaWN0aW9uYXJ5IH0gZnJvbSAnLi4vLi4vQXBwbGljYXRpb24nO1xyXG5pbXBvcnQgeyBJQ29tbWFuZCwgSUNvbW1hbmRGYWN0b3J5LCBJRGljdGlvbmFyeSB9IGZyb20gJy4uLy4uL0NvbnRyYWN0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kRmFjdG9yeSBpbXBsZW1lbnRzIElDb21tYW5kRmFjdG9yeSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBuZXcgRGljdGlvbmFyeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmFjdG9yaWVzOiBJRGljdGlvbmFyeTtcclxuXHJcbiAgICBjcmVhdGUoYXJnczogYW55KTogSUNvbW1hbmQge1xyXG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gdGhpcy5mYWN0b3JpZXMudmFsdWUodGhpcy5nZXRJZChhcmdzKSk7XHJcbiAgICAgICAgaWYgKCFjb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3RvcihhcmdzLnBhcmFtZXRlcnMgfHwgYXJncy5QYXJhbWV0ZXJzIHx8IGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKGFyZ3M6IGFueSk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIGFyZ3MuaWQgfHwgYXJncy5JZCB8fCAoYXJncy5wYXJhbWV0ZXJzID8gYXJncy5wYXJhbWV0ZXJzLmlkIDogdW5kZWZpbmVkKSB8fFxyXG4gICAgICAgICAgICAoYXJncy5QYXJhbWV0ZXJzID8gYXJncy5QYXJhbWV0ZXJzLklkIDogdW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlcihuYW1lOiBzdHJpbmcsIGNvbnN0cnVjdG9yOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmZhY3Rvcmllcy5hZGQobmFtZSwgY29uc3RydWN0b3IpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=","map":null,"metadata":{},"sourceType":"module"}