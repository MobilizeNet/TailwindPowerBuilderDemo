{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ActionModelV5, ActionServiceV5 } from '.';\nimport { App } from '../../Application';\nimport { PendingActionWorker } from '../../Application/DeltaWorkers/PendingActionWorker';\nimport { Constants, Resolve } from '../../Contract';\nimport { ChangeNotifier } from '../../Core';\nimport { Commands } from '../../UI/Command';\nimport { DirtyCacheV5, ModelFactoryV5, ModelResolverV5 } from '../Core';\nimport { BuildStyleBehavior, EventBehavior, ReferenceBehavior, StyleBehavior } from '../Core/Behaviors';\nimport { ModelCollectionV5 } from '../Core/ModelCollection';\nimport { RequestBuilderV5, UrlResolverV5 } from '../Server';\nimport { ViewManagerV5 } from '../UI';\nimport { ArrangeWindowCommandV5, BringToFront, ChangeMenuV5, GridPrintCommand, ModalExecutionCommand, OpenViewV5, StylesChangedCommand, UpdateRangesCommand } from '../UI/Command';\nimport { ChangeFocusControlV5 } from '../UI/Command/ChangeFocusControlV5';\nimport { DisposeWindowCommandV5 } from '../UI/Command/DisposeWindowCommandV5';\nimport { DownloadFileCommand } from '../UI/Command/DownloadFile';\nimport { OpenExternalLinkCommandV5 } from '../UI/Command/OpenExternalLinkCommandV5';\nimport { SetTextToDataManagerCommandV5 } from '../UI/Command/SetTextToDataManagerCommandV5';\nimport { StartEditV5 } from '../UI/Command/StartEditV5';\nimport { ActionWorker, ModelWorker, VisualWorker } from './DeltaWorkers';\n\nvar AppV5 = function (_super) {\n  __extends(AppV5, _super);\n\n  function AppV5(inject) {\n    if (inject === void 0) {\n      inject = null;\n    }\n\n    return _super.call(this, inject) || this;\n  }\n\n  AppV5.prototype.init = function (controller, action, callback, appname, requestConfig, queryString) {\n    if (controller === void 0) {\n      controller = '';\n    }\n\n    if (action === void 0) {\n      action = '';\n    }\n\n    this.register();\n    this.initResolve();\n    this.loadInitialState(controller, action, callback, appname, requestConfig, queryString);\n  };\n\n  AppV5.prototype.loadInitialState = function (controller, action, callback, appname, requestConfig, queryString) {\n    var _this = this;\n\n    var parameters = appname ? [{\n      applicationName: appname\n    }] : null;\n    var actionModel = new ActionModelV5(controller, action, '', '', parameters, function () {\n      return _this.afterInit(callback);\n    }, false, queryString);\n    actionModel.requestConfig = requestConfig == null ? actionModel.requestConfig : requestConfig;\n    this.action.send(actionModel);\n  };\n\n  AppV5.prototype.register = function () {\n    _super.prototype.register.call(this);\n\n    this.inject.register(Constants.UrlResolver, UrlResolverV5, Resolve.Singleton);\n    this.inject.register(Constants.RequestBuilder, RequestBuilderV5, Resolve.Singleton);\n    this.inject.register(Constants.Action, ActionServiceV5, Resolve.Singleton);\n    this.inject.register(Constants.NotifyBuffer, DirtyCacheV5, Resolve.Singleton);\n    this.inject.register(Constants.ModelFactory, ModelFactoryV5, Resolve.Singleton);\n    this.inject.register(Constants.ModelResolver, ModelResolverV5, Resolve.Singleton);\n    this.inject.register(Constants.ViewManager, ViewManagerV5, Resolve.Singleton);\n    this.inject.register(Constants.Buffer, ModelCollectionV5, Resolve.Request);\n    this.executeOnRegister();\n  };\n\n  AppV5.prototype.modelResolverInit = function () {\n    this.modelResolver.registerBehavior(new StyleBehavior());\n    this.modelResolver.registerBehavior(new EventBehavior());\n    this.modelResolver.registerBehavior(new ReferenceBehavior());\n    this.modelResolver.registerNotifier(new ChangeNotifier());\n    this.modelResolver.registerBehavior(new BuildStyleBehavior());\n  };\n\n  AppV5.prototype.deltaHandlerInit = function () {\n    this.deltaHandler.registerWorker(new ModelWorker());\n    this.deltaHandler.registerWorker(new ActionWorker());\n    this.deltaHandler.registerWorker(new VisualWorker());\n    this.deltaHandler.registerWorker(new PendingActionWorker());\n    this.executeDeltaHandler();\n  };\n\n  AppV5.prototype.executeOnCommandRegister = function () {\n    _super.prototype.executeOnCommandRegister.call(this);\n\n    this.commandFactory.register(Commands.OpenView, OpenViewV5);\n    this.commandFactory.register(Commands.ChangeMenuCommand, ChangeMenuV5);\n    this.commandFactory.register(Commands.DisposeWindowCommand, DisposeWindowCommandV5);\n    this.commandFactory.register(Commands.BringToFrontCommand, BringToFront);\n    this.commandFactory.register(Commands.SetTextToDataManagerCommand, SetTextToDataManagerCommandV5);\n    this.commandFactory.register(Commands.ChangeFocusControlCommand, ChangeFocusControlV5);\n    this.commandFactory.register(Commands.OpenExternalLinkCommand, OpenExternalLinkCommandV5);\n    this.commandFactory.register(Commands.DownloadFileCommand, DownloadFileCommand);\n    this.commandFactory.register(Commands.ArrangeWindowCommand, ArrangeWindowCommandV5);\n    this.commandFactory.register(Commands.GridPrintCommand, GridPrintCommand);\n    this.commandFactory.register(Commands.StartEditCommand, StartEditV5);\n    this.commandFactory.register(Commands.StylesChangedCommand, StylesChangedCommand);\n    this.commandFactory.register(Commands.UpdateRangesCommand, UpdateRangesCommand);\n    this.commandFactory.register(Commands.ModalExecutionCommand, ModalExecutionCommand);\n\n    if (this.onCommandRegister) {\n      this.onCommandRegister(this.commandFactory);\n    }\n  };\n\n  return AppV5;\n}(App);\n\nexport { AppV5 }; //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Y1L0FwcGxpY2F0aW9uL0FwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFrQkEsT0FBTyxFQUFFLGFBQWEsRUFBRSxlQUFlLEVBQUUsTUFBTSxHQUFHLENBQUM7QUFDbkQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3hDLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBQ3pGLE9BQU8sRUFBRSxTQUFTLEVBQTJCLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDNUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxZQUFZLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUN4RSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsYUFBYSxFQUFFLGlCQUFpQixFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3hHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxhQUFhLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDNUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUN0QyxPQUFPLEVBQ0gsc0JBQXNCLEVBQ3RCLFlBQVksRUFDWixZQUFZLEVBQ1osZ0JBQWdCLEVBQ2hCLHFCQUFxQixFQUNyQixVQUFVLEVBQ1Ysb0JBQW9CLEVBQ3BCLG1CQUFtQixFQUN0QixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUMxRSxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FB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Q0FBQyxtQkFBbUIsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2hGLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3BGLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQ3hCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7U0FDL0M7SUFDTCxDQUFDO0lBQ0wsWUFBQztBQUFELENBQUMsQUFsRkQsQ0FBMkIsR0FBRyxHQWtGN0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuKiBDb3B5cmlnaHQgKEMpIE1vYmlsaXplLk5ldCA8aW5mb0Btb2JpbGl6ZS5uZXQ+IC0gQWxsIFJpZ2h0cyBSZXNlcnZlZFxyXG4qXHJcbiogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIE1vYmlsaXplIEZyYW1ld29ya3MsIHdoaWNoIGlzXHJcbiogcHJvcHJpZXRhcnkgYW5kIGNvbmZpZGVudGlhbC5cclxuKlxyXG4qIE5PVElDRTogIEFsbCBpbmZvcm1hdGlvbiBjb250YWluZWQgaGVyZWluIGlzLCBhbmQgcmVtYWluc1xyXG4qIHRoZSBwcm9wZXJ0eSBvZiBNb2JpbGl6ZS5OZXQgQ29ycG9yYXRpb24uXHJcbiogVGhlIGludGVsbGVjdHVhbCBhbmQgdGVjaG5pY2FsIGNvbmNlcHRzIGNvbnRhaW5lZCBoZXJlaW4gYXJlXHJcbiogcHJvcHJpZXRhcnkgdG8gTW9iaWxpemUuTmV0IENvcnBvcmF0aW9uIGFuZCBtYXkgYmUgY292ZXJlZFxyXG4qIGJ5IFUuUy4gUGF0ZW50cywgYW5kIGFyZSBwcm90ZWN0ZWQgYnkgdHJhZGUgc2VjcmV0IG9yIGNvcHlyaWdodCBsYXcuXHJcbiogRGlzc2VtaW5hdGlvbiBvZiB0aGlzIGluZm9ybWF0aW9uIG9yIHJlcHJvZHVjdGlvbiBvZiB0aGlzIG1hdGVyaWFsXHJcbiogaXMgc3RyaWN0bHkgZm9yYmlkZGVuIHVubGVzcyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24gaXMgb2J0YWluZWRcclxuKiBmcm9tIE1vYmlsaXplLk5ldCBDb3Jwb3JhdGlvbi5cclxuKlxyXG4qIFRoaXMgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBkZWZpbmVkIGluXHJcbiogZmlsZSAnTElDRU5TRS50eHQnLCB3aGljaCBpcyBwYXJ0IG9mIHRoaXMgc291cmNlIGNvZGUgcGFja2FnZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmltcG9ydCB7IEFjdGlvbk1vZGVsVjUsIEFjdGlvblNlcnZpY2VWNSB9IGZyb20gJy4nO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tICcuLi8uLi9BcHBsaWNhdGlvbic7XHJcbmltcG9ydCB7IFBlbmRpbmdBY3Rpb25Xb3JrZXIgfSBmcm9tICcuLi8uLi9BcHBsaWNhdGlvbi9EZWx0YVdvcmtlcnMvUGVuZGluZ0FjdGlvbldvcmtlcic7XHJcbmltcG9ydCB7IENvbnN0YW50cywgSUluamVjdCwgSVJlcXVlc3RDb25maWcsIFJlc29sdmUgfSBmcm9tICcuLi8uLi9Db250cmFjdCc7XHJcbmltcG9ydCB7IENoYW5nZU5vdGlmaWVyIH0gZnJvbSAnLi4vLi4vQ29yZSc7XHJcbmltcG9ydCB7IENvbW1hbmRzIH0gZnJvbSAnLi4vLi4vVUkvQ29tbWFuZCc7XHJcbmltcG9ydCB7IERpcnR5Q2FjaGVWNSwgTW9kZWxGYWN0b3J5VjUsIE1vZGVsUmVzb2x2ZXJWNSB9IGZyb20gJy4uL0NvcmUnO1xyXG5pbXBvcnQgeyBCdWlsZFN0eWxlQmVoYXZpb3IsIEV2ZW50QmVoYXZpb3IsIFJlZmVyZW5jZUJlaGF2aW9yLCBTdHlsZUJlaGF2aW9yIH0gZnJvbSAnLi4vQ29yZS9CZWhhdmlvcnMnO1xyXG5pbXBvcnQgeyBNb2RlbENvbGxlY3Rpb25WNSB9IGZyb20gJy4uL0NvcmUvTW9kZWxDb2xsZWN0aW9uJztcclxuaW1wb3J0IHsgUmVxdWVzdEJ1aWxkZXJWNSwgVXJsUmVzb2x2ZXJWNSB9IGZyb20gJy4uL1NlcnZlcic7XHJcbmltcG9ydCB7IFZpZXdNYW5hZ2VyVjUgfSBmcm9tICcuLi9VSSc7XHJcbmltcG9ydCB7XHJcbiAgICBBcnJhbmdlV2luZG93Q29tbWFuZFY1LFxyXG4gICAgQnJpbmdUb0Zyb250LFxyXG4gICAgQ2hhbmdlTWVudVY1LFxyXG4gICAgR3JpZFByaW50Q29tbWFuZCxcclxuICAgIE1vZGFsRXhlY3V0aW9uQ29tbWFuZCxcclxuICAgIE9wZW5WaWV3VjUsXHJcbiAgICBTdHlsZXNDaGFuZ2VkQ29tbWFuZCxcclxuICAgIFVwZGF0ZVJhbmdlc0NvbW1hbmRcclxufSBmcm9tICcuLi9VSS9Db21tYW5kJztcclxuaW1wb3J0IHsgQ2hhbmdlRm9jdXNDb250cm9sVjUgfSBmcm9tICcuLi9VSS9Db21tYW5kL0NoYW5nZUZvY3VzQ29udHJvbFY1JztcclxuaW1wb3J0IHsgRGlzcG9zZVdpbmRvd0NvbW1hbmRWNSB9IGZyb20gJy4uL1VJL0NvbW1hbmQvRGlzcG9zZVdpbmRvd0NvbW1hbmRWNSc7XHJcbmltcG9ydCB7IERvd25sb2FkRmlsZUNvbW1hbmQgfSBmcm9tICcuLi9VSS9Db21tYW5kL0Rvd25sb2FkRmlsZSc7XHJcbmltcG9ydCB7IE9wZW5FeHRlcm5hbExpbmtDb21tYW5kVjUgfSBmcm9tICcuLi9VSS9Db21tYW5kL09wZW5FeHRlcm5hbExpbmtDb21tYW5kVjUnO1xyXG5pbXBvcnQgeyBTZXRUZXh0VG9EYXRhTWFuYWdlckNvbW1hbmRWNSB9IGZyb20gJy4uL1VJL0NvbW1hbmQvU2V0VGV4dFRvRGF0YU1hbmFnZXJDb21tYW5kVjUnO1xyXG5pbXBvcnQgeyBTdGFydEVkaXRWNSB9IGZyb20gJy4uL1VJL0NvbW1hbmQvU3RhcnRFZGl0VjUnO1xyXG5pbXBvcnQgeyBBY3Rpb25Xb3JrZXIsIE1vZGVsV29ya2VyLCBWaXN1YWxXb3JrZXIgfSBmcm9tICcuL0RlbHRhV29ya2Vycyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwVjUgZXh0ZW5kcyBBcHAge1xyXG4gICAgY29uc3RydWN0b3IoaW5qZWN0OiBJSW5qZWN0ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKGluamVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChcclxuICAgICAgICBjb250cm9sbGVyID0gJycsXHJcbiAgICAgICAgYWN0aW9uID0gJycsXHJcbiAgICAgICAgY2FsbGJhY2s/OiAoKSA9PiB2b2lkLFxyXG4gICAgICAgIGFwcG5hbWU/OiBzdHJpbmcsXHJcbiAgICAgICAgcmVxdWVzdENvbmZpZz86IElSZXF1ZXN0Q29uZmlnLFxyXG4gICAgICAgIHF1ZXJ5U3RyaW5nPzogc3RyaW5nXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0UmVzb2x2ZSgpO1xyXG4gICAgICAgIHRoaXMubG9hZEluaXRpYWxTdGF0ZShjb250cm9sbGVyLCBhY3Rpb24sIGNhbGxiYWNrLCBhcHBuYW1lLCByZXF1ZXN0Q29uZmlnLCBxdWVyeVN0cmluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZEluaXRpYWxTdGF0ZShcclxuICAgICAgICBjb250cm9sbGVyOiBzdHJpbmcsXHJcbiAgICAgICAgYWN0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgY2FsbGJhY2s/OiAoKSA9PiB2b2lkLFxyXG4gICAgICAgIGFwcG5hbWU/OiBzdHJpbmcsXHJcbiAgICAgICAgcmVxdWVzdENvbmZpZz86IElSZXF1ZXN0Q29uZmlnLFxyXG4gICAgICAgIHF1ZXJ5U3RyaW5nPzogc3RyaW5nXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gYXBwbmFtZSA/IFt7IGFwcGxpY2F0aW9uTmFtZTogYXBwbmFtZSB9XSA6IG51bGw7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uTW9kZWwgPSBuZXcgQWN0aW9uTW9kZWxWNShjb250cm9sbGVyLCBhY3Rpb24sICcnLCAnJywgcGFyYW1ldGVycywgKCkgPT4gdGhpcy5hZnRlckluaXQoY2FsbGJhY2spLCBmYWxzZSwgcXVlcnlTdHJpbmcpO1xyXG4gICAgICAgIGFjdGlvbk1vZGVsLnJlcXVlc3RDb25maWcgPSByZXF1ZXN0Q29uZmlnID09IG51bGwgPyBhY3Rpb25Nb2RlbC5yZXF1ZXN0Q29uZmlnIDogcmVxdWVzdENvbmZpZztcclxuICAgICAgICB0aGlzLmFjdGlvbi5zZW5kKGFjdGlvbk1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVnaXN0ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucmVnaXN0ZXIoKTtcclxuICAgICAgICB0aGlzLmluamVjdC5yZWdpc3RlcihDb25zdGFudHMuVXJsUmVzb2x2ZXIsIFVybFJlc29sdmVyVjUsIFJlc29sdmUuU2luZ2xldG9uKTtcclxuICAgICAgICB0aGlzLmluamVjdC5yZWdpc3RlcihDb25zdGFudHMuUmVxdWVzdEJ1aWxkZXIsIFJlcXVlc3RCdWlsZGVyVjUsIFJlc29sdmUuU2luZ2xldG9uKTtcclxuICAgICAgICB0aGlzLmluamVjdC5yZWdpc3RlcihDb25zdGFudHMuQWN0aW9uLCBBY3Rpb25TZXJ2aWNlVjUsIFJlc29sdmUuU2luZ2xldG9uKTtcclxuICAgICAgICB0aGlzLmluamVjdC5yZWdpc3RlcihDb25zdGFudHMuTm90aWZ5QnVmZmVyLCBEaXJ0eUNhY2hlVjUsIFJlc29sdmUuU2luZ2xldG9uKTtcclxuICAgICAgICB0aGlzLmluamVjdC5yZWdpc3RlcihDb25zdGFudHMuTW9kZWxGYWN0b3J5LCBNb2RlbEZhY3RvcnlWNSwgUmVzb2x2ZS5TaW5nbGV0b24pO1xyXG4gICAgICAgIHRoaXMuaW5qZWN0LnJlZ2lzdGVyKENvbnN0YW50cy5Nb2RlbFJlc29sdmVyLCBNb2RlbFJlc29sdmVyVjUsIFJlc29sdmUuU2luZ2xldG9uKTtcclxuICAgICAgICB0aGlzLmluamVjdC5yZWdpc3RlcihDb25zdGFudHMuVmlld01hbmFnZXIsIFZpZXdNYW5hZ2VyVjUsIFJlc29sdmUuU2luZ2xldG9uKTtcclxuICAgICAgICB0aGlzLmluamVjdC5yZWdpc3RlcihDb25zdGFudHMuQnVmZmVyLCBNb2RlbENvbGxlY3Rpb25WNSwgUmVzb2x2ZS5SZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLmV4ZWN1dGVPblJlZ2lzdGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG1vZGVsUmVzb2x2ZXJJbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubW9kZWxSZXNvbHZlci5yZWdpc3RlckJlaGF2aW9yKG5ldyBTdHlsZUJlaGF2aW9yKCkpO1xyXG4gICAgICAgIHRoaXMubW9kZWxSZXNvbHZlci5yZWdpc3RlckJlaGF2aW9yKG5ldyBFdmVudEJlaGF2aW9yKCkpO1xyXG4gICAgICAgIHRoaXMubW9kZWxSZXNvbHZlci5yZWdpc3RlckJlaGF2aW9yKG5ldyBSZWZlcmVuY2VCZWhhdmlvcigpKTtcclxuICAgICAgICB0aGlzLm1vZGVsUmVzb2x2ZXIucmVnaXN0ZXJOb3RpZmllcihuZXcgQ2hhbmdlTm90aWZpZXIoKSk7XHJcbiAgICAgICAgdGhpcy5tb2RlbFJlc29sdmVyLnJlZ2lzdGVyQmVoYXZpb3IobmV3IEJ1aWxkU3R5bGVCZWhhdmlvcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZGVsdGFIYW5kbGVySW5pdCgpOiB2b2lkIHtcclxuICAgICAgICAvLyB0aGlzIG9yZGVyIG11c3QgYmUgbWFpbnRhaW5lZCBkdXJpbmcgdGhlIHdvcmtlcnMgZXhlY3V0aW9uXHJcbiAgICAgICAgdGhpcy5kZWx0YUhhbmRsZXIucmVnaXN0ZXJXb3JrZXIobmV3IE1vZGVsV29ya2VyKCkpO1xyXG4gICAgICAgIHRoaXMuZGVsdGFIYW5kbGVyLnJlZ2lzdGVyV29ya2VyKG5ldyBBY3Rpb25Xb3JrZXIoKSk7XHJcbiAgICAgICAgdGhpcy5kZWx0YUhhbmRsZXIucmVnaXN0ZXJXb3JrZXIobmV3IFZpc3VhbFdvcmtlcigpKTtcclxuICAgICAgICB0aGlzLmRlbHRhSGFuZGxlci5yZWdpc3RlcldvcmtlcihuZXcgUGVuZGluZ0FjdGlvbldvcmtlcigpKTtcclxuICAgICAgICB0aGlzLmV4ZWN1dGVEZWx0YUhhbmRsZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXhlY3V0ZU9uQ29tbWFuZFJlZ2lzdGVyKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmV4ZWN1dGVPbkNvbW1hbmRSZWdpc3RlcigpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZEZhY3RvcnkucmVnaXN0ZXIoQ29tbWFuZHMuT3BlblZpZXcsIE9wZW5WaWV3VjUpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZEZhY3RvcnkucmVnaXN0ZXIoQ29tbWFuZHMuQ2hhbmdlTWVudUNvbW1hbmQsIENoYW5nZU1lbnVWNSk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kRmFjdG9yeS5yZWdpc3RlcihDb21tYW5kcy5EaXNwb3NlV2luZG93Q29tbWFuZCwgRGlzcG9zZVdpbmRvd0NvbW1hbmRWNSk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kRmFjdG9yeS5yZWdpc3RlcihDb21tYW5kcy5CcmluZ1RvRnJvbnRDb21tYW5kLCBCcmluZ1RvRnJvbnQpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZEZhY3RvcnkucmVnaXN0ZXIoQ29tbWFuZHMuU2V0VGV4dFRvRGF0YU1hbmFnZXJDb21tYW5kLCBTZXRUZXh0VG9EYXRhTWFuYWdlckNvbW1hbmRWNSk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kRmFjdG9yeS5yZWdpc3RlcihDb21tYW5kcy5DaGFuZ2VGb2N1c0NvbnRyb2xDb21tYW5kLCBDaGFuZ2VGb2N1c0NvbnRyb2xWNSk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kRmFjdG9yeS5yZWdpc3RlcihDb21tYW5kcy5PcGVuRXh0ZXJuYWxMaW5rQ29tbWFuZCwgT3BlbkV4dGVybmFsTGlua0NvbW1hbmRWNSk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kRmFjdG9yeS5yZWdpc3RlcihDb21tYW5kcy5Eb3dubG9hZEZpbGVDb21tYW5kLCBEb3dubG9hZEZpbGVDb21tYW5kKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRGYWN0b3J5LnJlZ2lzdGVyKENvbW1hbmRzLkFycmFuZ2VXaW5kb3dDb21tYW5kLCBBcnJhbmdlV2luZG93Q29tbWFuZFY1KTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRGYWN0b3J5LnJlZ2lzdGVyKENvbW1hbmRzLkdyaWRQcmludENvbW1hbmQsIEdyaWRQcmludENvbW1hbmQpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZEZhY3RvcnkucmVnaXN0ZXIoQ29tbWFuZHMuU3RhcnRFZGl0Q29tbWFuZCwgU3RhcnRFZGl0VjUpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZEZhY3RvcnkucmVnaXN0ZXIoQ29tbWFuZHMuU3R5bGVzQ2hhbmdlZENvbW1hbmQsIFN0eWxlc0NoYW5nZWRDb21tYW5kKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRGYWN0b3J5LnJlZ2lzdGVyKENvbW1hbmRzLlVwZGF0ZVJhbmdlc0NvbW1hbmQsIFVwZGF0ZVJhbmdlc0NvbW1hbmQpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZEZhY3RvcnkucmVnaXN0ZXIoQ29tbWFuZHMuTW9kYWxFeGVjdXRpb25Db21tYW5kLCBNb2RhbEV4ZWN1dGlvbkNvbW1hbmQpO1xyXG4gICAgICAgIGlmICh0aGlzLm9uQ29tbWFuZFJlZ2lzdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Db21tYW5kUmVnaXN0ZXIodGhpcy5jb21tYW5kRmFjdG9yeSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==","map":null,"metadata":{},"sourceType":"module"}