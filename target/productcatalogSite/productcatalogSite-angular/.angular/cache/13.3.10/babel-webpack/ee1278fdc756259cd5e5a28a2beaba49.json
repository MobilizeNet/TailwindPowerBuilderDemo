{"ast":null,"code":"import ChartElement from './chart-element';\nimport TextBox from './text-box';\nimport { X, BLACK, TOP, CENTER, BOTTOM } from '../common/constants';\nimport { getSpacing, setDefaultOptions } from '../common';\n\nclass Title extends ChartElement {\n  constructor(options) {\n    super(options);\n    this._textBox = new TextBox(this.options.text, Object.assign({}, this.options, {\n      vAlign: this.options.position\n    }));\n    this.append(this._textBox);\n  }\n\n  reflow(targetBox) {\n    super.reflow(targetBox);\n    this.box.snapTo(targetBox, X);\n  }\n\n  static buildTitle(options, defaultOptions) {\n    let titleOptions = options;\n\n    if (typeof options === \"string\") {\n      titleOptions = {\n        text: options\n      };\n    }\n\n    titleOptions = Object.assign({\n      visible: true\n    }, defaultOptions, titleOptions);\n    let title;\n\n    if (titleOptions && titleOptions.visible && titleOptions.text) {\n      title = new Title(titleOptions);\n    }\n\n    return title;\n  }\n\n  static orderTitles(titles) {\n    const items = [].concat(titles);\n    const top = items.filter(item => item && item.options.position !== BOTTOM);\n    const bottom = items.filter(item => item && item.options.position === BOTTOM);\n    collapseVerticalMargins(top);\n    collapseVerticalMargins(bottom);\n    bottom.reverse();\n    return top.concat(bottom);\n  }\n\n}\n\nfunction collapseVerticalMargins(items) {\n  for (let i = 1; i < items.length; i++) {\n    const box = items[i]._textBox;\n    const prevBox = items[i - 1]._textBox;\n    prevBox.options.margin = Object.assign(getSpacing(prevBox.options.margin), {\n      bottom: 0\n    });\n    box.options.margin = Object.assign(getSpacing(box.options.margin), {\n      top: 0\n    });\n  }\n}\n\nsetDefaultOptions(Title, {\n  color: BLACK,\n  position: TOP,\n  align: CENTER,\n  margin: getSpacing(5),\n  padding: getSpacing(5)\n});\nexport default Title;","map":null,"metadata":{},"sourceType":"module"}