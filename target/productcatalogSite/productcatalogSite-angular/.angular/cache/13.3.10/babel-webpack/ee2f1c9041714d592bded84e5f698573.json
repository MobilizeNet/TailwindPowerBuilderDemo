{"ast":null,"code":"import Bar from '../bar-chart/bar';\nimport BarLabel from '../bar-chart/bar-label';\nimport { deepExtend, getTemplate } from '../../common';\n\nclass RangeBar extends Bar {\n  createLabel() {\n    const labels = this.options.labels;\n    const fromOptions = deepExtend({}, labels, labels.from);\n    const toOptions = deepExtend({}, labels, labels.to);\n\n    if (fromOptions.visible) {\n      this.labelFrom = this._createLabel(fromOptions);\n      this.append(this.labelFrom);\n    }\n\n    if (toOptions.visible) {\n      this.labelTo = this._createLabel(toOptions);\n      this.append(this.labelTo);\n    }\n  }\n\n  _createLabel(options) {\n    const labelTemplate = getTemplate(options);\n    const pointData = this.pointData();\n    let labelText;\n\n    if (labelTemplate) {\n      labelText = labelTemplate(pointData);\n    } else {\n      labelText = this.formatValue(options.format);\n    }\n\n    return new BarLabel(labelText, deepExtend({\n      vertical: this.options.vertical\n    }, options), pointData);\n  }\n\n  reflow(targetBox) {\n    this.render();\n    const {\n      labelFrom,\n      labelTo,\n      value\n    } = this;\n    this.box = targetBox;\n\n    if (labelFrom) {\n      labelFrom.options.aboveAxis = value.from > value.to;\n      labelFrom.reflow(targetBox);\n    }\n\n    if (labelTo) {\n      labelTo.options.aboveAxis = value.to > value.from;\n      labelTo.reflow(targetBox);\n    }\n\n    if (this.note) {\n      this.note.reflow(targetBox);\n    }\n  }\n\n}\n\nRangeBar.prototype.defaults = deepExtend({}, RangeBar.prototype.defaults, {\n  labels: {\n    format: \"{0} - {1}\"\n  },\n  tooltip: {\n    format: \"{1}\"\n  }\n});\nexport default RangeBar;","map":null,"metadata":{},"sourceType":"module"}